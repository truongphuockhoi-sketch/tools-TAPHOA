<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video to Prompt - AI Tools Hub</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            padding: 20px;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        header {
            text-align: center;
            padding: 20px 0;
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 30px;
        }
        
        /* V√ôNG NH·∫¨P TOKEN */
        .token-section {
            background: rgba(255, 0, 0, 0.1);
            border: 2px solid #ff0000;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .token-input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
            border: 1px solid #ff0000;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 1rem;
        }
        .token-btn {
            background: #ff0000;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            margin: 5px;
        }

        /* Upload Area */
        .upload-area {
            background: rgba(255, 255, 255, 0.1);
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            margin: 20px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .upload-area:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.5);
        }
        .upload-area.dragover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #ff6b6b;
        }
        .upload-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        /* Buttons */
        .btn {
            background: #ff6b6b;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }
        .btn:hover {
            background: #ff5252;
            transform: translateY(-2px);
        }
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        .btn-secondary {
            background: transparent;
            border: 2px solid #ff6b6b;
        }
        
        /* Video Preview */
        .video-preview {
            display: none;
            text-align: center;
            margin: 20px 0;
        }
        .video-preview video {
            max-width: 100%;
            max-height: 300px;
            border-radius: 10px;
        }
        
        /* Loading */
        .loading {
            display: none;
            text-align: center;
            margin: 30px 0;
        }
        .loading-spinner {
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-top: 5px solid #ff6b6b;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Results */
        .results {
            display: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
        }
        .result-section {
            margin-bottom: 25px;
        }
        .result-section h3 {
            margin-bottom: 15px;
            color: #ff6b6b;
        }
        .prompt-box {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #ff6b6b;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .copy-btn {
            background: #4ecdc4;
            margin-top: 10px;
        }
        .copy-btn:hover {
            background: #3dbeb5;
        }
        
        /* Features */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }
        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .feature-card .icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üé¨ Video to Prompt</h1>
            <p class="subtitle">Chuy·ªÉn ƒë·ªïi video th√†nh prompt AI ch·∫•t l∆∞·ª£ng cao ho√†n to√†n mi·ªÖn ph√≠</p>
        </header>

        <!-- üî¥ V√ôNG NH·∫¨P TOKEN -->
        <div class="token-section">
            <h3 style="color: #ff0000; margin-bottom: 15px; text-align: center; font-weight: bold; text-shadow: 0 2px 4px rgba(0,0,0,0.3); background: rgba(255,0,0,0.1); padding: 12px; border-radius: 10px; border: 1px solid #ff0000;">
                ‚ö†Ô∏è üîë NH·∫¨P HUGGING FACE TOKEN
            </h3>
            <p style="margin-bottom: 15px; text-align: center;">ƒê·ªÉ s·ª≠ d·ª•ng t√≠nh nƒÉng AI th·∫≠t, vui l√≤ng nh·∫≠p token c·ªßa b·∫°n:</p>
            <input type="password" id="hfToken" class="token-input" placeholder="Nh·∫≠p token c·ªßa b·∫°n (b·∫Øt ƒë·∫ßu b·∫±ng hf_)">
            <div style="text-align: center;">
                <button class="token-btn" onclick="saveToken()">üíæ L∆∞u Token</button>
                <button class="token-btn" onclick="clearToken()" style="background: #666;">üóëÔ∏è X√≥a Token</button>
            </div>
            <p style="margin-top: 10px; font-size: 0.9rem; opacity: 0.8; text-align: center;">
                Token ƒë∆∞·ª£c l∆∞u c·ª•c b·ªô tr√™n tr√¨nh duy·ªát c·ªßa b·∫°n - an to√†n & b·∫£o m·∫≠t
            </p>
        </div>

        <!-- Upload Area -->
        <div class="upload-area" id="uploadArea">
            <div class="upload-icon">üìÅ</div>
            <h2>K√©o th·∫£ video v√†o ƒë√¢y ho·∫∑c click ƒë·ªÉ ch·ªçn</h2>
            <p>H·ªó tr·ª£ MP4, MOV, AVI (t·ªëi ƒëa 50MB)</p>
            <input type="file" id="videoInput" accept="video/*" style="display: none;">
        </div>

        <!-- Video Preview -->
        <div class="video-preview" id="videoPreview">
            <video controls id="previewVideo"></video>
            <div>
                <button class="btn" id="analyzeBtn">Ph√¢n t√≠ch Video</button>
                <button class="btn btn-secondary" id="changeVideoBtn">Ch·ªçn video kh√°c</button>
            </div>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
            <p>ƒêang ph√¢n t√≠ch video v√† t·∫°o prompt...</p>
            <p>Qu√° tr√¨nh n√†y c√≥ th·ªÉ m·∫•t 1-2 ph√∫t</p>
        </div>

        <!-- Results -->
        <div class="results" id="results">
            <div class="result-section">
                <h3>üéØ Prompt ch√≠nh (d√†nh cho AI Image Generation)</h3>
                <div class="prompt-box" id="mainPrompt"></div>
                <button class="btn copy-btn" onclick="copyToClipboard('mainPrompt')">Sao ch√©p Prompt ch√≠nh</button>
            </div>
            
            <div class="result-section">
                <h3>üìù Prompt chi ti·∫øt (d√†nh cho AI Video)</h3>
                <div class="prompt-box" id="detailedPrompt"></div>
                <button class="btn copy-btn" onclick="copyToClipboard('detailedPrompt')">Sao ch√©p Prompt chi ti·∫øt</button>
            </div>
            
            <div class="result-section">
                <h3>üè∑Ô∏è Tags & Keywords</h3>
                <div class="prompt-box" id="tagsPrompt"></div>
                <button class="btn copy-btn" onclick="copyToClipboard('tagsPrompt')">Sao ch√©p Tags</button>
            </div>

            <button class="btn btn-secondary" onclick="resetApp()">Ph√¢n t√≠ch video m·ªõi</button>
        </div>

        <!-- Features -->
        <div class="features">
            <div class="feature-card">
                <div class="icon">ü§ñ</div>
                <h3>AI-Powered Analysis</h3>
                <p>S·ª≠ d·ª•ng AI ƒë·ªÉ ph√¢n t√≠ch n·ªôi dung video chuy√™n s√¢u</p>
            </div>
            <div class="feature-card">
                <div class="icon">üé®</div>
                <h3>Multi-Format Prompts</h3>
                <p>T·∫°o prompt cho c·∫£ AI image v√† video generation</p>
            </div>
            <div class="feature-card">
                <div class="icon">‚ö°</div>
                <h3>Fast Processing</h3>
                <p>X·ª≠ l√Ω nhanh ch√≥ng v·ªõi c√¥ng ngh·ªá ti√™n ti·∫øn</p>
            </div>
            <div class="feature-card">
                <div class="icon">üíØ</div>
                <h3>100% Mi·ªÖn ph√≠</h3>
                <p>Kh√¥ng gi·ªõi h·∫°n s·ªë l·∫ßn s·ª≠ d·ª•ng</p>
            </div>
        </div>
    </div>

    <script>
        // üî¥ H√ÄM QU·∫¢N L√ù TOKEN
        function saveToken() {
            const tokenInput = document.getElementById('hfToken');
            const token = tokenInput.value;
            
            if (token && token.startsWith('hf_')) {
                localStorage.setItem('hfToken', token);
                alert('‚úÖ Token ƒë√£ ƒë∆∞·ª£c l∆∞u th√†nh c√¥ng!');
                tokenInput.value = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢';
            } else {
                alert('‚ùå Token kh√¥ng h·ª£p l·ªá! Token ph·∫£i b·∫Øt ƒë·∫ßu b·∫±ng "hf_"');
            }
        }

        function clearToken() {
            localStorage.removeItem('hfToken');
            document.getElementById('hfToken').value = '';
            alert('‚úÖ Token ƒë√£ ƒë∆∞·ª£c x√≥a!');
        }

        // Load token khi trang ƒë∆∞·ª£c t·∫£i
        window.addEventListener('load', function() {
            const savedToken = localStorage.getItem('hfToken');
            if (savedToken) {
                document.getElementById('hfToken').value = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢';
            }
        });

        // Elements
        const uploadArea = document.getElementById('uploadArea');
        const videoInput = document.getElementById('videoInput');
        const videoPreview = document.getElementById('videoPreview');
        const previewVideo = document.getElementById('previewVideo');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const changeVideoBtn = document.getElementById('changeVideoBtn');
        const loading = document.getElementById('loading');
        const results = document.getElementById('results');
        const mainPrompt = document.getElementById('mainPrompt');
        const detailedPrompt = document.getElementById('detailedPrompt');
        const tagsPrompt = document.getElementById('tagsPrompt');

        let currentVideoFile = null;

        // Event Listeners
        uploadArea.addEventListener('click', () => videoInput.click());
        uploadArea.addEventListener('dragover', handleDragOver);
        uploadArea.addEventListener('dragleave', handleDragLeave);
        uploadArea.addEventListener('drop', handleDrop);
        
        videoInput.addEventListener('change', handleFileSelect);
        analyzeBtn.addEventListener('click', analyzeVideo);
        changeVideoBtn.addEventListener('click', () => videoInput.click());

        // Functions
        function handleDragOver(e) {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        }

        function handleDragLeave(e) {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
        }

        function handleDrop(e) {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length > 0 && files[0].type.startsWith('video/')) {
                handleVideoFile(files[0]);
            }
        }

        function handleFileSelect(e) {
            if (e.target.files.length > 0) {
                handleVideoFile(e.target.files[0]);
            }
        }

        function handleVideoFile(file) {
            // Check file size (50MB limit)
            if (file.size > 50 * 1024 * 1024) {
                alert('Video qu√° l·ªõn! Vui l√≤ng ch·ªçn video nh·ªè h∆°n 50MB.');
                return;
            }

            currentVideoFile = file;
            const videoURL = URL.createObjectURL(file);
            previewVideo.src = videoURL;
            uploadArea.style.display = 'none';
            videoPreview.style.display = 'block';
            results.style.display = 'none';
        }

        async function analyzeVideo() {
            if (!currentVideoFile) {
                alert('Vui l√≤ng ch·ªçn video tr∆∞·ªõc!');
                return;
            }

            // üî¥ KI·ªÇM TRA TOKEN
            const hfToken = localStorage.getItem('hfToken');
            if (!hfToken) {
                alert('‚ùå Vui l√≤ng nh·∫≠p Hugging Face Token tr∆∞·ªõc khi ph√¢n t√≠ch!');
                return;
            }

            videoPreview.style.display = 'none';
            loading.style.display = 'block';

            try {
                // Gi·∫£ l·∫≠p ph√¢n t√≠ch video (trong th·ª±c t·∫ø s·∫Ω g·ªçi API AI)
                await simulateVideoAnalysis();
                
                // Hi·ªÉn th·ªã k·∫øt qu·∫£
                displayResults();
                
            } catch (error) {
                alert('C√≥ l·ªói x·∫£y ra khi ph√¢n t√≠ch video: ' + error.message);
                resetApp();
            }
        }

        function simulateVideoAnalysis() {
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve();
                }, 3000); // Gi·∫£ l·∫≠p th·ªùi gian x·ª≠ l√Ω 3 gi√¢y
            });
        }

        function displayResults() {
            loading.style.display = 'none';
            results.style.display = 'block';

            // T·∫°o prompt m·∫´u d·ª±a tr√™n video (trong th·ª±c t·∫ø s·∫Ω d√πng AI ƒë·ªÉ ph√¢n t√≠ch)
            const samplePrompts = generateSamplePrompts();
            
            mainPrompt.textContent = samplePrompts.main;
            detailedPrompt.textContent = samplePrompts.detailed;
            tagsPrompt.textContent = samplePrompts.tags;
        }

        function generateSamplePrompts() {
            const videoThemes = [
                {
                    main: "A cinematic shot of a person walking through a misty forest at golden hour, sun rays filtering through trees, atmospheric lighting, photorealistic, 8K resolution",
                    detailed: "Wide angle cinematic shot following a protagonist walking through an enchanted forest. Heavy morning mist, sunbeams piercing through dense canopy, dappled light on forest floor. Slow motion walking, leaves crunching underfoot. Color grading: warm golden hour tones, high contrast, film grain texture. Camera: Arri Alexa, anamorphic lens, 24fps",
                    tags: "cinematic, forest, golden hour, mist, sunbeams, walking, atmospheric, photorealistic, 8K, film grain, anamorphic"
                },
                {
                    main: "Futuristic cityscape at night, neon lights reflecting on wet streets, cyberpunk aesthetic, flying vehicles, detailed architecture, cinematic lighting",
                    detailed: "Dynamic camera movement through a bustling cyberpunk metropolis at night. Neon signs in Japanese and Chinese characters reflecting on rain-slicked streets. Flying cars weaving between towering skyscrapers, holographic advertisements. Color palette: electric blues, vibrant pinks, deep blacks. Style: Blade Runner inspired, high detail, volumetric lighting",
                    tags: "cyberpunk, futuristic, cityscape, neon, night, rain, flying cars, holograms, cinematic, Blade Runner style"
                },
                {
                    main: "Beautiful woman dancing in a field of flowers at sunset, flowing dress, romantic atmosphere, soft focus, dreamlike quality, high fashion photography",
                    detailed: "Ethereal scene of a dancer moving gracefully through a vast field of wildflowers during sunset. Flowing silk dress catching the golden light, hair moving in slow motion. Camera circles around subject, shallow depth of field. Lighting: backlit by setting sun, golden hour glow, soft shadows. Mood: romantic, dreamy, magical",
                    tags: "dancer, flowers, sunset, golden hour, flowing dress, romantic, dreamy, ethereal, fashion photography, slow motion"
                }
            ];

            return videoThemes[Math.floor(Math.random() * videoThemes.length)];
        }

        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                alert('ƒê√£ sao ch√©p v√†o clipboard!');
            }).catch(err => {
                console.error('L·ªói khi sao ch√©p: ', err);
            });
        }

        function resetApp() {
            currentVideoFile = null;
            previewVideo.src = '';
            uploadArea.style.display = 'block';
            videoPreview.style.display = 'none';
            loading.style.display = 'none';
            results.style.display = 'none';
            videoInput.value = '';
        }
    </script>
</body>
</html>
